<!-- public/app.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- UPDATED: Added meta description for SEO -->
    <meta name="description" content="Effortlessly plan your household meals, generate grocery lists from your pantry, and discover new recipes with AI-powered suggestions. Simplify your kitchen today with Auto Meal Chef!">
    <!-- PWA: Link to Manifest File -->
    <link rel="manifest" href="manifest.json">
    <!-- PWA: Theme color for browser UI -->
    <meta name="theme-color" content="#1DB954">
    <title>Auto Meal Chef</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://js.stripe.com/v3/"></script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LQ124BNWKH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LQ124BNWKH');
</script>
<body>

    <div id="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <img src="header.png" alt="Auto Meal Chef Logo" class="sidebar-logo">
            </div>
            <ul class="sidebar-nav">
                <li><a href="#" class="nav-link active" data-target="meal-plan-section"><i class="fas fa-calendar-alt fa-fw"></i> <span>Meal Planner</span></a></li>
                <li><a href="#" class="nav-link" data-target="recipe-section"><i class="fas fa-book-open fa-fw"></i> <span>Recipes</span></a></li>
                <li><a href="#" class="nav-link" data-target="pantry-section"><i class="fas fa-box fa-fw"></i> <span>Pantry</span></a></li>
                <li><a href="#" class="nav-link" data-target="grocery-list-section"><i class="fas fa-shopping-cart fa-fw"></i> <span>Grocery List</span></a></li>
                <!-- NEW: Settings Link (now hidden by default, managed by JS) -->
                <li style="display: none;"><a href="#" class="nav-link" data-target="settings-section"><i class="fas fa-cog fa-fw"></i> <span>Settings</span></a></li>
                <!-- UPDATED: Added a class to hide this by default until user logs in -->
                <li class="mobile-only-nav" style="display: none;"><a href="#" id="more-nav-link"><i class="fas fa-ellipsis-h fa-fw"></i> <span>More</span></a></li>
            </ul>
            <div class="sidebar-footer">
                 <div id="sidebar-calendar-container-desktop"></div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <header class="top-bar">
                 <div id="auth-container">
                    <!-- Auth UI will be dynamically populated by script.js -->
                 </div>
            </header>

            <main class="content-wrapper">
                <!-- Login/Household Management View -->
                <div id="initial-view">
                    <section id="login-section" class="content-section active">
                         <!-- Login form will be injected here by script.js -->
                         <div id="login-form-container"></div>
                    </section>
                    <section id="household-manager" class="content-section">
                        <div class="form-card">
                            <h2>Welcome! Join or Create a Household</h2>
                            <p>To share a pantry, create a new household or join one using an invite code.</p>
                            <div class="household-action"><h3>Create a New Household</h3><button id="create-household-btn">Create</button></div>
                            <hr>
                            <div class="household-action"><h3>Join an Existing Household</h3><input type="text" id="household-code-input" placeholder="Enter Invite Code"><button id="join-household-btn">Join</button></div>
                        </div>
                    </section>
                </div>

                <!-- Main App Content (Initially Hidden) -->
                <div id="app-content" style="display: none;">
                    <section id="meal-plan-section" class="content-section active">
                        <h2>Weekly Meal Planner</h2>
                        <div class="week-navigation">
                            <button id="prev-week-btn" class="secondary">&lt; Prev</button>
                            <h3 id="week-range-display"></h3>
                            <button id="next-week-btn" class="secondary">Next &gt;</button>
                        </div>
                        
                        <div id="planner-criteria" class="recipe-criteria">
                            <h3 class="collapsible-header">Planning Preferences</h3>
                            <div class="collapsible-content">
                                <div class="criteria-controls">
                                    <div class="criteria-group">
                                         <div class="sub-criteria-group">
                                            <h4>Main Preference</h4>
                                            <div class="checkbox-group">
                                                <label><input type="checkbox" id="use-pantry-items-checkbox"><span>Use Pantry Items</span></label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="criteria-group">
                                         <div class="sub-criteria-group premium-feature">
                                            <h4>Common Diets <span class="premium-tag">Premium</span></h4>
                                            <div class="checkbox-group">
                                                <label><input type="checkbox" name="plannerCriteria" value="Vegetarian"><span>Vegetarian</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="Vegan"><span>Vegan</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="Pescetarian"><span>Pescetarian</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="Keto"><span>Keto</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="Paleo"><span>Paleo</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="Low Carb"><span>Low Carb</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="Low Fat"><span>Low Fat</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="High Protein"><span>High Protein</span></label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="criteria-group">
                                        <div class="sub-criteria-group premium-feature">
                                            <h4>Other <span class="premium-tag">Premium</span></h4>
                                             <div class="checkbox-group">
                                                <label><input type="checkbox" name="plannerCriteria" value="Budget-Friendly"><span>Budget-Friendly</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="Spicy"><span>Spicy</span></label>
                                                <label><input type="checkbox" name="plannerCriteria" value="Quick Meal (<30 minutes)"><span>&lt; 30 min</span></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="button-group" style="margin-top: 1rem;">
                            <button id="plan-my-week-btn" class="premium-feature">✨ Complete My Week</button>
                            <button id="toggle-all-days-btn" class="secondary">Collapse All</button>
                        </div>
                        <div class="meal-plan-container">
                            <div id="meal-planner-grid"></div>
                        </div>
                        <div class="button-group" style="margin-top: 1rem;">
                            <button id="generate-grocery-list-btn">Generate Grocery List</button>
                            <button id="sync-calendar-btn" class="secondary premium-feature"><i class="far fa-calendar-alt"></i> Sync Calendar</button>
                        </div>
                    </section>

                    <section id="recipe-section" class="content-section">
                        <h2>Meal Sources</h2>
                        <div class="source-tabs">
                            <button id="show-ideas-tab" class="active">Meal Ideas</button>
                            <button id="show-favorites-tab">Favorites</button>
                            <button id="show-community-tab">Community</button>
                        </div>
                        <div id="ideas-content">
                            <div class="meal-type-selector" id="meal-type-selector">
                                <label><input type="radio" name="mealType" value="breakfast"><span>Breakfast</span></label>
                                <label><input type="radio" name="mealType" value="lunch"><span>Lunch</span></label>
                                <label><input type="radio" name="mealType" value="dinner" checked><span>Dinner</span></label>
                                <label><input type="radio" name="mealType" value="snack"><span>Snack</span></label>
                            </div>
                            <div class="recipe-criteria">
                                <h3 class="collapsible-header">Refine Your Search</h3>
                                <div class="collapsible-content">
                                    <div class="form-control-wrapper">
                                        <label for="cuisine-select">Cuisine</label>
                                        <select id="cuisine-select"><option value="">Any</option></select>
                                        <button id="update-cuisine-btn" style="display:none; margin-top: 8px;">Update Cuisine</button>
                                    </div>
                                    <div class="form-control-wrapper">
                                        <label for="prioritize-equipment-select">Prioritize Cooking Equipment</label>
                                        <select id="prioritize-equipment-select"><option value="">Any</option></select>
                                    </div>
                                    <div class="sub-criteria-group premium-feature">
                                        <h4>Common Diets <span class="premium-tag">Premium</span></h4>
                                        <div class="checkbox-group">
                                            <label><input type="checkbox" name="recipeCriteria" value="Vegetarian"><span>Vegetarian</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="Vegan"><span>Vegan</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="Pescetarian"><span>Pescetarian</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="Keto"><span>Keto</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="Paleo"><span>Paleo</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="Low Carb"><span>Low Carb</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="Low Fat"><span>Low Fat</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="High Protein"><span>High Protein</span></label>
                                        </div>
                                    </div>
                                    <div class="sub-criteria-group premium-feature">
                                        <h4>Other <span class="premium-tag">Premium</span></h4>
                                         <div class="checkbox-group">
                                            <label><input type="checkbox" name="recipeCriteria" value="Budget-Friendly"><span>Budget-Friendly</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="Spicy"><span>Spicy</span></label>
                                            <label><input type="checkbox" name="recipeCriteria" value="Quick Meal (<30 minutes)"><span>&lt; 30 min</span></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="ask-the-chef-section" class="recipe-criteria premium-feature">
                                <h3>Ask the Chef <span class="premium-tag">Premium</span></h3>
                                <form id="ask-the-chef-form" class="inline-form">
                                    <!-- UPDATED: Better placeholder text -->
                                    <input type="text" id="chef-query-input" placeholder="e.g., 'Spicy chicken and rice'">
                                    <button type="submit">Get Recipe</button>
                                </form>
                            </div>
                            <div id="import-recipe-section" class="recipe-criteria premium-feature">
                                <h3>Import Recipe from Web <span class="premium-tag">Premium</span></h3>
                                <form id="import-recipe-form" class="inline-form">
                                    <input type="url" id="recipe-url-input" placeholder="Paste a recipe URL here">
                                    <button type="submit">Import</button>
                                </form>
                            </div>
                            <div class="button-group">
                                <button id="suggest-recipe-btn">Suggest from Pantry</button>
                                <button id="quick-meal-btn">Quick Meal from Photo</button>
                                <button id="discover-recipes-btn" class="btn-accent">Discover New Recipes</button>
                            </div>
                            <div id="recipe-scan-ui-placeholder" style="display: none;"></div>
                        </div>
                        <div id="recipe-results"></div>
                        <div id="favorite-recipes-container" style="display: none;"></div>
                        <div id="community-recipes-container" style="display: none;"></div>
                    </section>

                    <section id="pantry-section" class="content-section">
                        <div class="pantry-header">
                            <h2>My Pantry</h2>
                            <div class="pantry-controls">
                                <button id="show-manual-add-btn" class="secondary">Add Manually</button>
                                <button id="show-scan-item-btn" class="secondary">Scan Item</button>
                                <button id="show-scan-receipt-btn" class="secondary premium-feature">Scan Receipt</button>
                            </div>
                        </div>
                        <div id="pantry-scan-ui-placeholder" style="display: none;"></div>
                        <div id="pantry-forms-container" style="display: none;">
                             <div id="manual-add-container" style="display: none;">
                                <h3>Add Item Manually</h3>
                                <form id="manual-add-form" class="form-grid">
                                    <input type="text" id="manual-name" placeholder="Item Name" required>
                                    <input type="number" id="manual-quantity" placeholder="Quantity" value="1" required>
                                    <input type="text" id="manual-unit" placeholder="Unit (e.g., lbs)" value="units" required>
                                    <select id="manual-category"></select>
                                    <button type="submit">Add</button>
                                </form>
                            </div>
                            <div id="confirmation-section" style="display: none;">
                                <h3>Confirm Scanned Items</h3>
                                <div id="item-confirmation-list"></div>
                                <button id="add-to-pantry-btn">Add Items to Pantry</button>
                            </div>
                        </div>
                        <div class="pantry-header" style="margin-top: 24px;">
                            <h3>Pantry Items</h3>
                            <div class="pantry-controls">
                                <button id="toggle-all-pantry-btn" class="secondary">Collapse All</button>
                            </div>
                        </div>
                        <div id="pantry-bulk-controls" class="bulk-controls" style="display: none;">
                            <label><input type="checkbox" id="select-all-pantry-checkbox"> Select All</label>
                            <button id="delete-selected-pantry-btn" class="danger">Delete Selected</button>
                        </div>
                        <div id="pantry-list"></div>
                    </section>

                    <section id="grocery-list-section" class="content-section">
                        <div class="pantry-header">
                            <h2>Grocery List</h2>
                            <div class="pantry-controls">
                                <button id="show-add-grocery-form-btn" class="secondary">Add Manually</button>
                                <button id="show-scan-grocery-btn" class="secondary">Scan Item(s)</button>
                                <button id="show-scan-receipt-grocery-btn" class="secondary premium-feature">Scan Receipt</button>
                            </div>
                        </div>
                        <div id="grocery-scan-ui-placeholder" style="display: none;"></div>
                        <form id="add-grocery-item-form" class="form-grid" style="display: none;">
                            <input type="text" id="grocery-item-name" placeholder="Item Name" required>
                            <input type="text" id="grocery-item-quantity" placeholder="Quantity (e.g., 1.5 cups)" value="1 item">
                            <select id="grocery-item-category"></select>
                            <button type="submit">Add</button>
                        </form>
                        <!-- ADDED: Confirmation section for grocery scans -->
                        <div id="grocery-forms-container" style="display: none;">
                            <div id="confirmation-section-grocery" style="display: none;">
                                <h3>Confirm Scanned Items</h3>
                                <div id="item-confirmation-list-grocery"></div>
                                <button id="add-to-grocery-btn">Add Items to Grocery List</button>
                            </div>
                        </div>
                        <div class="pantry-header" style="margin-top: 24px;">
                            <h3>Your Items</h3>
                            <div class="pantry-controls">
                                <button id="toggle-all-grocery-btn" class="secondary">Collapse All</button>
                            </div>
                        </div>
                        <div id="grocery-bulk-controls" class="bulk-controls" style="display: none;">
                             <label><input type="checkbox" id="select-all-grocery-checkbox"> Select All</label>
                            <button id="delete-selected-grocery-btn" class="danger">Delete Selected</button>
                            <button id="move-to-pantry-btn" class="secondary">Move to Pantry</button>
                        </div>
                        <div id="grocery-list"></div>
                    </section>

                    <!-- NEW: Settings Section -->
                    <section id="settings-section" class="content-section">
                        <h2>Settings</h2>
                        <div class="settings-container">
                            <div class="settings-group">
                                <h3>Cooking Equipment</h3>
                                <p>Select the cooking equipment you have available. This will help tailor recipe suggestions.</p>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="cookingEquipment" value="Blackstone Grill"><span>Blackstone Grill</span></label>
                                    <label><input type="checkbox" name="cookingEquipment" value="BBQ Grill"><span>BBQ Grill</span></label>
                                    <label><input type="checkbox" name="cookingEquipment" value="Ninja Foodi"><span>Ninja Foodi</span></label>
                                    <label><input type="checkbox" name="cookingEquipment" value="Pressure Cooker"><span>Pressure Cooker</span></label>
                                    <label><input type="checkbox" name="cookingEquipment" value="Air Fryer"><span>Air Fryer</span></label>
                                    <label><input type="checkbox" name="cookingEquipment" value="Slow Cooker"><span>Slow Cooker</span></label>
                                    <label><input type="checkbox" name="cookingEquipment" value="Sous Vide"><span>Sous Vide</span></label>
                                    <label><input type="checkbox" name="cookingEquipment" value="Wok"><span>Wok</span></label>
                                    <label><input type="checkbox" name="cookingEquipment" value="Stand Mixer"><span>Stand Mixer</span></label>
                                </div>
                            </div>

                            <div class="settings-group">
                                <h3>Localization</h3>
                                <div class="form-control-wrapper">
                                    <label>Unit System</label>
                                    <div class="toggle-switch">
                                        <input type="radio" id="imperial-units-settings" name="unitSystem" value="imperial" checked>
                                        <label for="imperial-units-settings">Imperial</label>
                                        <input type="radio" id="metric-units-settings" name="unitSystem" value="metric">
                                        <label for="metric-units-settings">Metric</label>
                                    </div>
                                </div>
                            </div>

                            <div class="settings-group">
                                <h3>Allergies & Restrictions</h3>
                                <p>These selections will apply to all recipe and meal plan suggestions.</p>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="dietaryCriteria" value="Gluten-Free"><span>Gluten-Free</span></label>
                                    <label><input type="checkbox" name="dietaryCriteria" value="Dairy-Free"><span>Dairy-Free</span></label>
                                    <label><input type="checkbox" name="dietaryCriteria" value="Lactose-Intolerance"><span>Lactose-Intolerance</span></label>
                                    <label><input type="checkbox" name="dietaryCriteria" value="Kosher"><span>Kosher</span></label>
                                    <label><input type="checkbox" name="dietaryCriteria" value="Halal"><span>Halal</span></label>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals and other floating elements -->
    <div id="move-to-pantry-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="move-to-pantry-modal-close-btn">&times;</span>
            <h3>Move Items to Pantry</h3>
            <p>Confirm the quantity and unit for each item being moved.</p>
            <form id="move-to-pantry-form"></form>
            <button id="confirm-move-btn" style="margin-top: 10px;">Confirm and Move</button>
        </div>
    </div>
    <div id="scan-item-container" style="display: none;">
        <div class="scan-modal-content">
            <span class="close-btn" id="close-scan-btn">&times;</span>
            <h3>Scan New Items</h3>
            <div id="scan-quota-display" style="display: none; text-align: center; margin-bottom: 1rem; font-weight: 500;"></div>
            <div id="camera-container" style="display: none;"><video id="camera-stream" autoplay playsinline></video><canvas id="capture-canvas" style="display:none;"></canvas></div>
            <img id="captured-image" alt="Captured from pantry" style="display: none;">
            <div id="camera-controls">
                <button id="start-camera-btn">Start Camera</button>
                <!-- UPDATED: Changed button text for clarity -->
                <button id="capture-btn" style="display: none;">Capture & Continue</button>
            </div>
        </div>
    </div>

    <div id="meal-plan-modal" class="modal"><div class="modal-content"><span class="close-btn" id="modal-close-btn">&times;</span><h3 id="modal-slot-title"></h3><div id="modal-recipe-list"></div></div></div>
    <!-- NEW: Modal for selecting a meal to add to an empty slot -->
    <div id="select-meal-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="select-meal-modal-close-btn">&times;</span>
            <h3 id="select-meal-modal-title">Add a Meal</h3>

            <div class="modal-tabs">
                <button class="tab-link active" data-tab="favorites-tab-content">Favorites</button>
                <button class="tab-link" data-tab="ideas-tab-content">Recipe Ideas</button>
            </div>

            <div id="favorites-tab-content" class="tab-content active">
                <div id="select-meal-modal-favorites-list">
                    <!-- Favorites list will be populated here -->
                </div>
            </div>
            <div id="ideas-tab-content" class="tab-content">
                <div id="select-meal-modal-ideas-list">
                    <!-- Recipe ideas list will be populated here -->
                </div>
                <div class="modal-actions">
                    <button id="suggest-more-meals-btn" class="secondary">Suggest More ✨</button>
                </div>
            </div>
        </div>
    </div>
    <div id="recipe-detail-modal" class="modal"><div class="modal-content" id="recipe-detail-content"></div></div>
    <div id="add-to-plan-modal" class="modal"><div class="modal-content"><span class="close-btn" id="add-to-plan-modal-close-btn">&times;</span><h3>Add Recipe to Meal Plan</h3><p>Select dates and mealtime for: <strong id="add-to-plan-recipe-title"></strong></p><form id="add-to-plan-form"><div id="calendar-container"><div id="calendar-header"><button type="button" id="calendar-prev-month" class="secondary">&lt;</button><h4 id="calendar-month-year"></h4><button type="button" id="calendar-next-month" class="secondary">&gt;</button></div><div id="calendar-grid"></div></div><label for="meal-select">Mealtime:</label><select id="meal-select" required><option value="breakfast">Breakfast</option><option value="lunch">Lunch</option><option value="dinner">Dinner</option></select><button type="submit">Add to Plan</button></form></div></div>
    <div id="create-household-modal" class="modal"><div class="modal-content"><span class="close-btn" id="create-household-modal-close-btn">&times;</span><h3>Create Your Household</h3><p>Select your household's primary cuisine preference.</p><form id="create-household-form"><label for="household-cuisine-select">Cuisine Preference</label><select id="household-cuisine-select" required><option value="">Any</option></select><button type="submit">Create Household</button></form></div></div>
    <div id="how-to-modal" class="modal"><div class="modal-content"><div class="how-to-slider"><div class="how-to-slide active"><h3>Welcome!</h3><p>Let's quickly walk through the main features.</p></div><div class="how-to-slide"><h3>1. Your Pantry</h3><p>Use the 'Pantry' tab to add ingredients you have at home.</p></div><div class="how-to-slide"><h3>2. Get Recipes</h3><p>In the 'Recipes' tab, get meal ideas based on what's in your pantry.</p></div><div class="how-to-slide"><h3>3. Plan Your Week</h3><p>Assign recipes from the 'Recipes' tab onto your 'Meal Planner'.</p></div><div class="how-to-slide"><h3>4. Create a Grocery List</h3><p>Click 'Generate Grocery List' to see what you need to buy.</p></div></div><div class="how-to-navigation"><button id="how-to-prev-btn" class="secondary" style="display: none;">Previous</button><div class="how-to-dots"></div><button id="how-to-next-btn">Next</button><button id="how-to-close-btn" style="display: none;">Got it!</button></div></div></div>
    <div id="sync-calendar-modal" class="modal"><div class="modal-content"><span class="close-btn" id="sync-calendar-modal-close-btn">&times;</span><h3>Sync Your Meal Plan</h3><p>Subscribe to this calendar URL in your favorite calendar app.</p><div class="calendar-url-container"><input type="text" id="calendar-url-input" readonly><button id="copy-calendar-url-btn" title="Copy URL"><i class="far fa-copy"></i></button></div><hr><h4>How to add:</h4><ul class="instructions-list-modal"><li><strong>Google Calendar:</strong> Other calendars &rarr; "+" &rarr; From URL.</li><li><strong>Apple Calendar:</strong> File &rarr; New Calendar Subscription.</li></ul></div></div>
    <div id="feedback-modal" class="modal"><div class="modal-content"><span class="close-btn" id="feedback-modal-close-btn">&times;</span><h3>Share Your Feedback</h3><p>Have a suggestion or found a bug? Let us know!</p><form id="feedback-form"><textarea id="feedback-textarea" placeholder="Your feedback..." required></textarea><button type="submit">Submit Feedback</button></form></div></div>

    <!-- NEW: "More" Modal for Mobile -->
    <div id="more-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="more-modal-close-btn">&times;</span>
            <h3>More Options</h3>
            <div id="sidebar-calendar-container-mobile"></div>
            <div class="mobile-links-container">
                 <a href="#" id="settings-btn-modal"><i class="fas fa-cog fa-fw"></i> <span>Settings</span></a>
                 <a href="/blog.html" target="_blank"><i class="fas fa-newspaper fa-fw"></i> <span>Recipe Blog</span></a>
                 <a href="#" id="feedback-btn-modal" title="Send Feedback"><i class="fas fa-comment-dots fa-fw"></i> <span>Send Feedback</span></a>
                 <a href="/terms.html" target="_blank"><i class="fas fa-file-contract fa-fw"></i> <span>Terms & Conditions</span></a>
                 <a href="/privacy.html" target="_blank"><i class="fas fa-user-secret fa-fw"></i> <span>Privacy Policy</span></a>
            </div>
        </div>
    </div>
    
    <!-- NEW: Upgrade Modal -->
    <div id="upgrade-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="upgrade-modal-close-btn">&times;</span>
            <h3><i class="fas fa-gem"></i> Upgrade to Premium</h3>
            <p>Unlock powerful features to supercharge your meal planning!</p>
            <ul class="premium-features-list">
                <li><i class="fas fa-check-circle"></i> Enhanced AI Recipe Generations</li>
                <li><i class="fas fa-receipt"></i> Scan Receipts to Instantly Add Items</li>
                <li><i class="fas fa-users"></i> See Top Community Favorite Recipes</li>
                <li><i class="fas fa-brain"></i> Advanced AI Planning Features</li>
                <li><i class="fas fa-calendar-alt"></i> Sync with your Personal Calendar</li>
            </ul>
            <button id="modal-upgrade-btn" class="upgrade-button">Upgrade Now</button>
        </div>
    </div>

    <!-- NEW: Onboarding Tour Elements -->
    <div id="tour-overlay"></div>
    <div id="tour-tooltip" style="display: none;"></div>

    <div id="toast-notification"></div>

    <script type="module" src="script.js"></script>
</body>
</html>